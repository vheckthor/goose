"use strict";(self.webpackChunkgoose=self.webpackChunkgoose||[]).push([[5861],{16992:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"guides/tool-router","title":"Tool Router (preview)","description":"Overview","source":"@site/docs/guides/tool-router.md","sourceDirName":"guides","slug":"/guides/tool-router","permalink":"/goose/pr-preview/pr-2740/docs/guides/tool-router","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Smart Context Management","permalink":"/goose/pr-preview/pr-2740/docs/guides/smart-context-management"},"next":{"title":"Tutorials","permalink":"/goose/pr-preview/pr-2740/docs/category/tutorials"}}');var i=o(74848),l=o(28453);const r={},s="Tool Router (preview)",c={},a=[{value:"Overview",id:"overview",level:2},{value:"The Problem",id:"the-problem",level:2},{value:"The Solution: Tool Router",id:"the-solution-tool-router",level:2},{value:"Configuration",id:"configuration",level:2},{value:"CLI",id:"cli",level:4},{value:"UI",id:"ui",level:4},{value:"Benefits",id:"benefits",level:2},{value:"Notes",id:"notes",level:2},{value:"Model Compatibility",id:"model-compatibility",level:3},{value:"Feedback &amp; Next Steps",id:"feedback--next-steps",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"tool-router-preview",children:"Tool Router (preview)"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Tool Router is a powerful feature that addresses a common challenge in LLM-based development: the difficulty of selecting the right tool when multiple extensions are enabled. Traditional approaches feed an entire list of tools into the context during chat sessions, which not only consumes a significant number of tokens but also reduces the effectiveness of tool calling."}),"\n",(0,i.jsx)(n.h2,{id:"the-problem",children:"The Problem"}),"\n",(0,i.jsx)(n.p,{children:"When you enable multiple extensions (like Slack), you get access to numerous tools such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reading threads"}),"\n",(0,i.jsx)(n.li,{children:"Sending messages"}),"\n",(0,i.jsx)(n.li,{children:"Creating channels"}),"\n",(0,i.jsx)(n.li,{children:"And many more"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"However, you typically don't need all this functionality at once. Loading every available tool into the context can be inefficient and potentially confusing for the LLM."}),"\n",(0,i.jsx)(n.h2,{id:"the-solution-tool-router",children:"The Solution: Tool Router"}),"\n",(0,i.jsx)(n.p,{children:"Tool Router introduces a smarter way to handle tool selection through vector-based indexing. Instead of passing all tools back and forth, it:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Indexes all tools from your enabled extensions"}),"\n",(0,i.jsx)(n.li,{children:"Uses vector search to load only the relevant tools into context when needed"}),"\n",(0,i.jsx)(n.li,{children:"Ensures that only the functionality you actually need is available"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.p,{children:"To enable this feature, change the Tool Selection Strategy from default to vector."}),"\n",(0,i.jsx)(n.h4,{id:"cli",children:"CLI"}),"\n",(0,i.jsx)(n.p,{children:"To configure Tool Router in the CLI, follow these steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Run the configuration command:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./target/debug/goose configure\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"This will update your existing config file. Alternatively, you can edit it directly at:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/Users/wendytang/.config/goose/config.yaml\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["During configuration:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Select "Goose Settings"'}),"\n",(0,i.jsx)(n.li,{children:'Choose "Router Tool Selection Strategy"'}),"\n",(0,i.jsx)(n.li,{children:'Select "Vector Strategy"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The configuration process will look like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c   goose-configure\n\u2502\n\u25c7  What would you like to configure?\n\u2502  Goose Settings\n\u2502\n\u25c7  What setting would you like to configure?\n\u2502  Router Tool Selection Strategy\n\u2502\n\u25c7  Which router strategy would you like to use?\n\u2502  Vector Strategy\n\u2502\n\u2514  Set to Vector Strategy - using vector-based similarity for tool selection\n"})}),"\n",(0,i.jsx)(n.h4,{id:"ui",children:"UI"}),"\n",(0,i.jsx)(n.p,{children:"Toggle the settings button on the top right and head to 'Advanced Settings', then 'Tool Selection Strategy' at the botoom."}),"\n",(0,i.jsx)(n.h2,{id:"benefits",children:"Benefits"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reduced token consumption"}),"\n",(0,i.jsx)(n.li,{children:"More accurate tool selection"}),"\n",(0,i.jsx)(n.li,{children:"Improved LLM performance"}),"\n",(0,i.jsx)(n.li,{children:"Better context management"}),"\n",(0,i.jsx)(n.li,{children:"More efficient use of available tools"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsx)(n.h3,{id:"model-compatibility",children:"Model Compatibility"}),"\n",(0,i.jsxs)(n.p,{children:["Tool Router currently only works with Claude models served through Databricks. The embedding functionality uses OpenAI's ",(0,i.jsx)(n.code,{children:"text-embedding-3-small"})," model by default."]}),"\n",(0,i.jsx)(n.h3,{id:"feedback--next-steps",children:"Feedback & Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"We'd love to hear your thoughts on this feature! Please reach out in the Goose Discord channel to share your use case and experience."}),"\n",(0,i.jsx)(n.p,{children:"Our roadmap includes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Expanding Tool Router support to OpenAI models"}),"\n",(0,i.jsxs)(n.li,{children:["Adding customization options for the ",(0,i.jsx)(n.code,{children:"k"})," parameter that controls how many similar tools are returned during vector similarity search"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>s});var t=o(96540);const i={},l=t.createContext(i);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);